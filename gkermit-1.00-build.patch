diff -Naur gkermit-src/gcmdline.c gkermit-new/gcmdline.c
--- gkermit-src/gcmdline.c	1999-12-26 23:05:38.000000000 +0300
+++ gkermit-new/gcmdline.c	2021-04-19 20:02:00.049042000 +0300
@@ -29,6 +29,8 @@
 */
 
 #include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
 #include "gkermit.h"
 
 /* Externals */
@@ -53,7 +55,7 @@
 _MYPROTOTYPE( VOID usage, (void) );
 
 #ifndef NOGETENV
-_MYPROTOTYPE( char * getenv, (char *) );
+/*_MYPROTOTYPE( char * getenv, (char *) );*/
 #define GARGC 32
 #define GBUFSIZ 256
 static char gbuf[GBUFSIZ], *gargs[GARGC], *gptr = NULL;
diff -Naur gkermit-src/gkermit.c gkermit-new/gkermit.c
--- gkermit-src/gkermit.c	1999-12-27 05:11:19.000000000 +0300
+++ gkermit-new/gkermit.c	2021-04-19 20:05:54.764105871 +0300
@@ -56,7 +56,10 @@
 
 #define _GKERMIT_C
 #include <stdio.h>
+#include <string.h>
+#include <unistd.h>
 #include "gkermit.h"
+#include <errno.h>
 
 /* Forward declarations of functions used within this module... */
 
diff -Naur gkermit-src/gunixio.c gkermit-new/gunixio.c
--- gkermit-src/gunixio.c	1999-12-27 02:32:26.000000000 +0300
+++ gkermit-new/gunixio.c	2021-04-19 20:02:00.049042000 +0300
@@ -75,6 +75,9 @@
 #include <setjmp.h>			/* Longjumps */
 #include <sys/stat.h>			/* File exist, file size */
 #include <errno.h>			/* Error symbols */
+#include <stdlib.h>
+#include <string.h>
+#include <unistd.h>
 #include "gkermit.h"			/* gkermit definitions */
 
 /* All versions of HP-UX need Xon/Xoff */
diff -Naur gkermit-src/gwart.c gkermit-new/gwart.c
--- gkermit-src/gwart.c	1999-12-17 20:04:22.000000000 +0300
+++ gkermit-new/gwart.c	2021-04-19 20:02:00.049042000 +0300
@@ -40,6 +40,8 @@
 
 #include <stdio.h>
 #include <ctype.h>
+#include <stdlib.h>
+#include <string.h>
 #include "gkermit.h"
 
 #define TBL_TYPE "short"		/* C data type of state table */
diff -Naur gkermit-src/makefile gkermit-new/makefile
--- gkermit-src/makefile	1999-12-26 23:28:38.000000000 +0300
+++ gkermit-new/makefile	2021-04-19 20:07:03.185611810 +0300
@@ -29,16 +29,12 @@
 
 # Sample installation values - change or override as needed.
 
-BINDIR = /usr/local/bin
-MANDIR = /usr/man/manl
-TEXTDIR = /usr/local/doc
-INFODIR = /usr/local/info
-MANEXT = l
+MANEXT = 1
 
 # Default compiler and flags
 
-CC=cc
-CFLAGS= -DPOSIX -O $(KFLAGS)
+CC=gcc
+CFLAGS= $(RPM_CFLAGS) -DPOSIX -O $(KFLAGS)
 
 # Object files
 
@@ -94,7 +90,7 @@
 		cc -o gkermit $(OBJECTS)
 
 clean:
-		rm -f $(OBJECTS) gproto.o gproto.c gwart.o gwart
+		rm -f $(OBJECTS) gproto.o gproto.c gwart.o gwart gkermit
 
 install:
 		@if test -f ./gkermit; then \
@@ -107,17 +103,6 @@
 		@cp gkermit $(BINDIR)/gkermit
 		@chmod 755 $(BINDIR)/gkermit
 		@ls -lg $(BINDIR)/gkermit
-		@if test -d $(TEXTDIR); then \
-		    echo "$(TEXTDIR) exists..." ; \
-		else \
-		    echo "Creating $(TEXTDIR)/..." ; \
-		    mkdir $(TEXTDIR) ; \
-		    chmod 755 $(TEXTDIR) ; \
-		fi
-		@echo Copying README to $(TEXTDIR)/gkermit.txt...
-		@cp README $(TEXTDIR)/gkermit.txt
-		@chmod 644 $(TEXTDIR)/gkermit.txt
-		@ls -lg $(TEXTDIR)/gkermit.txt
 		@echo Installing man page in $(MANDIR)/gkermit.$(MANEXT)...
 		@cp gkermit.nr $(MANDIR)/gkermit.$(MANEXT)
 		@chmod 644 $(MANDIR)/gkermit.$(MANEXT)
@@ -126,7 +111,6 @@
 uninstall:
 		@echo Uninstalling gkermit...
 		rm -f $(BINDIR)/gkermit \
-		$(TEXTDIR)/gkermit.txt \
 		$(MANDIR)gkermit.$(MANEXT)
 
 .PHONY:		clean install uninstall
